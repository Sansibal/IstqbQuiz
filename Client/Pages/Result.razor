@page "/result"
@inject IstqbQuiz.Client.Services.QuizState State
@inject NavigationManager Nav

<h3>Dein Ergebnis</h3>

@if (State.Questions != null && State.Questions.Count > 0)
{
    <p><strong>Punkte:</strong> @State.Score / @State.Questions.Count</p>

    @if (State.Score >= 26)
    {
        <div class="alert alert-success"><strong>GlÃ¼ckwunsch!</strong> Du hast bestanden.</div>
    }
    else
    {
        <div class="alert alert-danger"><strong>Nicht bestanden.</strong> Du brauchst mindestens 26 Punkte.</div>
    }

    <div class="mt-2">
        <button class="btn btn-primary me-2" @onclick="StartNew">Neues Quiz starten</button>
        <button class="btn btn-secondary" @onclick="ShowDetails">Details anzeigen</button>
    </div>
}
else
{
    <p>Keine Daten gefunden. Bitte starte zuerst ein Quiz.</p>
}

@code {
    void StartNew() => Nav.NavigateTo("quiz");
    void ShowDetails() => Nav.NavigateTo("details");
}